diff --git a/gdk/gdkwindow.c b/gdk/gdkwindow.c
index f058570..a12a65b 100644
--- a/gdk/gdkwindow.c
+++ b/gdk/gdkwindow.c
@@ -10731,6 +10731,9 @@ proxy_button_event (GdkEvent *source_event,
 					toplevel_x, toplevel_y,
 					NULL, NULL);
 
+      if (pointer_window == NULL)
+        pointer_window = toplevel_window;
+
       /* Find the event window, that gets the grab */
       w = (GdkWindowObject *)pointer_window;
       while (w != NULL &&
diff --git a/gdk/quartz/gdkevents-quartz.c b/gdk/quartz/gdkevents-quartz.c
index 1334d83..9b19030 100644
--- a/gdk/quartz/gdkevents-quartz.c
+++ b/gdk/quartz/gdkevents-quartz.c
@@ -652,6 +654,16 @@ find_window_for_ns_event (NSEvent *nsevent,
                 *x = point.x;
                 *y = grab_private->height - point.y;
 
+		/* If we're on Lion and within 5 pixels of an edge, then
+		 * assume that the user wants to resize, and return NULL to
+		 * let Quartz get on with it. We check the selector
+		 * isRestorable to see if we're on 10.7.
+		 */
+		if (([grab_nswindow respondsToSelector:@selector(isRestorable)]) &&
+			( *x < 5 || *x > grab_private->width - 5 ||
+			  *y > grab_private->height - 5))
+			return NULL;
+
 		return grab_toplevel;
 	      }
 
@@ -700,8 +712,8 @@ find_window_for_ns_event (NSEvent *nsevent,
                      * will most likely be larger than 15x15 and for
                      * scroll bars there are also other means to move
                      * the scroll bar.  Since the resize indicator is
-                     * the only way of resizing windows on Mac OS, it
-                     * is too important to not make functional.
+                     * the only way of resizing windows on Mac OS before
+                     * 10.7, it is too important to not make functional.
                      */
                     frame = [toplevel_impl->view bounds];
                     if (x_tmp > frame.size.width - GRIP_WIDTH
